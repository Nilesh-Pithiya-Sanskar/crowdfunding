var w=(o,t,c)=>new Promise((u,l)=>{var n=a=>{try{i(c.next(a))}catch(s){l(s)}},p=a=>{try{i(c.throw(a))}catch(s){l(s)}},i=a=>a.done?u(a.value):Promise.resolve(a.value).then(n,p);i((c=c.apply(o,t)).next())});import{_ as v,E as y,o as k,c as E,k as m,e,t as r,p as d,G as g,H as h,l as b,w as f,F as $,r as _}from"./index.ea81c385.js";import{N as P,F}from"./Footer.16df0d3e.js";import{_ as G,a as S}from"./bg-right.dad959a3.js";import{_ as x}from"./logo-1.1.ce4b050f.js";const N={name:"Login",components:{Navbar:P,Footer:F},data(){return{password:"",error:!1,passwordError:"",emailError:"",email:"",isLogin:!1}},created(){document.title=this.$t("Login Now | BestDeed");const o=document.querySelector('link[rel="canonical"]');if(o)o.href="https://bestdeed.org/login-via-email",document.head.appendChild(o);else{var t=document.createElement("link");t.rel="canonical",t.href="https://bestdeed.org/login-via-email",document.head.appendChild(t)}},mounted(){this.$nextTick(()=>this.$refs.email.focus())},resources:{login(){return{method:"/api/method/login",onSuccess:()=>w(this,null,function*(){var o=this.$cookies.get("route");console.log("route",o),o!=null?this.$router.go(-2):this.$router.push("/")}),onError:o=>{this.$toast({title:"Error",text:"User Name or Password Incorrect",icon:"x-circle",appearance:"denger",position:"top-center"}),this.email="",this.password=""}}},login_with_google(){return{method:"frappe.www.login.login_via_token",onSuccess:()=>{this.$router.push("/")},onError:o=>{console.log("error",o),this.$toast({title:"Error",text:"Something want Wrong!",icon:"x-circle",appearance:"denger",position:"top-center"})}}},forgotPassword(){return{method:"sadbhavna_donatekart.api.api.forgot_password",onSuccess:o=>{o=="user not found with this email"?this.emailError=o:(console.log("mail send"),this.$toast({title:"Mail Sent",text:"forgot password mail is sent open link to set password",icon:"right",position:"top-center"}))},onError:o=>{console.log("error for pass",o)}}}},methods:{login(){console.log("email dsfas"),!this.email&&!this.password?this.error==!0:this.email==""?(this.emailError="Please enter email!",this.error=!0,console.log("email")):this.password==""?(this.passwordError="Please enter password!",this.error=!0,console.log("password")):(this.error==!1,this.$resources.login.submit({usr:this.email,pwd:this.password}))},login_with_google:o=>{let t=y(o.credential),c=t.email,u=t.family_name,l=t.given_name,n=t.picture,p=`http://sadbhavnadonatekart.com:8080/api/method/sadbhavna_donatekart.api.api.login_with_google?email=${c}&first_name=${u}&last_name=${l}&image_url=${n}`;fetch(p,{method:"GET"}).then(i=>{i.json().then(a=>{console.log("asdf",a.message),console.log("asdf",a),a.message,window.location="http://sadbhavnadonatekart.com:8080/home"})}).catch(function(i){log("Request failed",i)})},forgotPassword(){var o=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;this.email==""?this.emailError="Please enter email":o.test(this.email)==!1&&this.email?this.emailError="Please enter valid email":this.$resources.forgotPassword.submit({email:this.email})}}},C={class:"hidden md:block lg:block"},L={class:"grid grid-cols-3"},V=e("div",{class:"z-0"},[e("img",{class:"w-full h-auto object-cover",src:G})],-1),q={class:"z-10 py-10"},M={class:"py-0"},j={class:"p-6 shadow-lg card-shodow w-[350px] lg:w-[440px] mx-auto bg-white"},z=e("img",{src:x,class:"mx-auto rounded-full border border-[#40b751] md:mr-2 lg:mr-2 w-18 h-14 md:h-16 lg:h-20 ml-0 lg:ml-6"},null,-1),K={class:"text-[#40b751] text-center mb-3 font-bold text-[30px] md:text-[32px] lg:text-[34px]"},U={class:"relative w-full mb-3"},B={class:"block uppercase text-blueGray-600 text-sm font-bold mb-2",htmlFor:"grid-password"},D=e("span",{class:"text-red-600"},"*",-1),I=["placeholder"],T={class:"text-red-600"},R={class:"relative w-full mb-3"},W={class:"block uppercase text-blueGray-600 text-sm font-bold mb-2",htmlFor:"grid-password"},A=e("span",{class:"text-red-600"},"*",-1),Z=["placeholder"],H={class:"text-red-600"},J={class:"text-red-600"},O={class:"text-center mt-6"},Q={class:"flex items-center justify-between"},X=e("div",{class:"grid content-end z-0"},[e("img",{class:"w-full h-auto object-cover",src:S})],-1),Y={class:"block md:hidden lg:hidden"},ee={class:"py-10 px-8"},oe={class:"p-6 shadow-lg card-shodow bg-white"},te=e("img",{src:x,class:"mx-auto rounded-full border border-[#40b751] md:mr-2 lg:mr-2 w-18 h-14 md:h-16 lg:h-20 ml-0 lg:ml-6"},null,-1),se={class:"text-[#40b751] text-center mb-3 font-bold text-[30px] md:text-[32px] lg:text-[34px]"},re={class:"relative w-full mb-3"},le={class:"block uppercase text-blueGray-600 text-sm font-bold mb-2",htmlFor:"grid-password"},ne=e("span",{class:"text-red-600"},"*",-1),ae=["placeholder"],ie={class:"text-red-600"},de={class:"relative w-full mb-3"},ce={class:"block uppercase text-blueGray-600 text-sm font-bold mb-2",htmlFor:"grid-password"},me=e("span",{class:"text-red-600"},"*",-1),pe=["placeholder"],ue={class:"text-red-600"},ge={class:"text-red-600"},he={class:"text-center mt-6"},be={class:"pt-2 flex flex-wrap items-center justify-between"};function fe(o,t,c,u,l,n){const p=_("Navbar"),i=_("router-link"),a=_("Footer");return k(),E($,null,[m(p),e("section",C,[e("div",L,[V,e("div",q,[e("div",M,[e("div",j,[z,e("h1",K,[e("small",null,r(o.$t("Sign In")),1)]),e("form",null,[e("div",U,[e("label",B,[d(r(o.$t("Email"))+" ",1),D]),g(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>l.email=s),onKeyup:[t[1]||(t[1]=s=>l.emailError=""),t[2]||(t[2]=b((...s)=>n.login&&n.login(...s),["enter"]))],type:"email",class:"placeholder-blueGray-300 appearance-none border-gray-300 text-sm hover:border-[#40b751] focus:text-black focus:font-semibold rounded w-full py-2 px-3",placeholder:o.$t("Email"),required:""},null,40,I),[[h,l.email]]),e("p",T,r(l.emailError),1)]),e("div",R,[e("label",W,[d(r(o.$t("Password ")),1),A]),g(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>l.password=s),type:"password",onKeyup:t[4]||(t[4]=b((...s)=>n.login&&n.login(...s),["enter"])),class:"placeholder-blueGray-300 appearance-none border-gray-300 text-sm hover:border-[#40b751] focus:text-black focus:font-semibold rounded w-full py-2 px-3 ease-linear transition-all duration-150",placeholder:o.$t("Password"),required:""},null,40,Z),[[h,l.password]]),e("p",H,r(l.passwordError),1)]),e("p",J,r(o.errorMsg),1),e("div",O,[e("button",{style:{"background-color":"#40b751"},class:"cursor-pointer border-[#40b751] hover:border-[#40b751] bg-gradient-to-l from-green-400 to-lime-600 hover:bg-transparent text-white active:bg-blueGray-600 text-sm font-bold uppercase px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-4 w-full ease-linear transition-all duration-150",type:"button",onClick:t[5]||(t[5]=s=>n.login())},r(o.$t("Sign In")),1),e("div",{onClick:t[6]||(t[6]=s=>n.forgotPassword()),class:"cursor-pointer text-green-500"},r(o.$t("Forgot Password?")),1)]),e("div",Q,[m(i,{to:"/login",class:"text-green-500 text-left"},{default:f(()=>[d(r(o.$t("Login With Mobile")),1)]),_:1}),m(i,{to:"/registration",class:"text-green-500 text-center border-emerald-600 text-emerald-600 inline-block rounded border-2 px-6 pb-[6px] pt-2 text-sm leading-normal transition duration-150 ease-in-out hover:bg-neutral-500 hover:bg-opacity-10 focus:outline-none text-green-500 focus:ring-0 dark:hover:bg-neutral-100 dark:hover:bg-opacity-10"},{default:f(()=>[d(r(o.$t("Register")),1)]),_:1})])])])])]),X])]),e("section",Y,[e("div",ee,[e("div",oe,[te,e("div",se,[e("small",null,r(o.$t("Login")),1)]),e("form",null,[e("div",re,[e("label",le,[d(r(o.$t("Email"))+" ",1),ne]),g(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>l.email=s),onKeyup:[t[8]||(t[8]=s=>l.emailError=""),t[9]||(t[9]=b((...s)=>n.login&&n.login(...s),["enter"]))],type:"email",class:"placeholder-blueGray-300 appearance-none border-gray-300 text-sm hover:border-[#40b751] focus:text-black focus:font-semibold rounded w-full py-2 px-3",placeholder:o.$t("Email"),required:""},null,40,ae),[[h,l.email]]),e("p",ie,r(l.emailError),1)]),e("div",de,[e("label",ce,[d(r(o.$t("Password ")),1),me]),g(e("input",{"onUpdate:modelValue":t[10]||(t[10]=s=>l.password=s),type:"password",onKeyup:t[11]||(t[11]=b((...s)=>n.login&&n.login(...s),["enter"])),class:"placeholder-blueGray-300 appearance-none border-gray-300 text-sm hover:border-[#40b751] focus:text-black focus:font-semibold rounded w-full py-2 px-3 ease-linear transition-all duration-150",placeholder:o.$t("Password"),required:""},null,40,pe),[[h,l.password]]),e("p",ue,r(l.passwordError),1)]),e("p",ge,r(o.errorMsg),1),e("div",he,[e("button",{style:{"background-color":"#40b751"},class:"cursor-pointer border-[#40b751] hover:border-[#40b751] bg-gradient-to-l from-green-400 to-lime-600 hover:bg-transparent text-white active:bg-blueGray-600 text-sm font-bold uppercase px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-4 w-full ease-linear transition-all duration-150",type:"button",onClick:t[12]||(t[12]=s=>n.login())},r(o.$t("Sign In")),1),e("div",{onClick:t[13]||(t[13]=s=>n.forgotPassword()),class:"cursor-pointer text-green-500"},r(o.$t("Forgot Password?")),1)]),e("div",be,[m(i,{to:"/login",class:"text-green-500 text-left"},{default:f(()=>[d(r(o.$t("Login With Mobile")),1)]),_:1}),m(i,{to:"/registration",class:"text-green-500 text-center border-emerald-600 text-emerald-600 inline-block rounded border-2 px-6 pb-[6px] pt-2 text-sm leading-normal transition duration-150 ease-in-out hover:bg-neutral-500 hover:bg-opacity-10 focus:outline-none text-green-500 focus:ring-0 dark:hover:bg-neutral-100 dark:hover:bg-opacity-10"},{default:f(()=>[d(r(o.$t("Register")),1)]),_:1})])])])])]),m(a)],64)}var ke=v(N,[["render",fe]]);export{ke as default};
