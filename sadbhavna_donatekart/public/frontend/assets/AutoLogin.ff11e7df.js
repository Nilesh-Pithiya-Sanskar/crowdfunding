import{_ as v,A as w,o as d,c as g,k as p,e as t,t as s,C as f,E as y,n as k,b as h,p as m,w as $,F as L,r as c}from"./index.3e771c68.js";import{N as S,F}from"./Footer.38b28041.js";const N={name:"Auto Login",components:{Navbar:S,Footer:F},data(){return{phone:"",email:"",error:""}},mounted(){document.title=this.$t("Login now | BestDeed"),FB.init({appId:"1616534218770661",cookie:!0,xfbml:!0,version:"v13.0"})},resources:{login_with_whatsapp(){return{method:"sadbhavna_donatekart.api.api.login_with_whatsapp",onSuccess:e=>{console.log("okey",e);let o=e[0],n=e[1],a=e[2];this.$router.push(`/sadbhavna/otp/${o}&${n}&${a}`)},onError:e=>{console.log("error",e)}}},login_with_sms(){return{method:"sadbhavna_donatekart.api.api.login_with_sms",onSuccess:e=>{console.log("okey",e);let o=e[0],n=e[1],a=e[2];this.$router.push(`/sadbhavna/otp/${o}&${n}&${a}`)},onError:e=>{console.log("error",e)}}},login_with_google(){return{method:"sadbhavna_donatekart.api.api.login_with_google",onSuccess:e=>{this.$toast({title:"Login Success",text:"You are successfully login to our platform",icon:"check",position:"top-center"}),this.$router.push("/sadbhavna")},onError:e=>{console.log("error",e),this.$toast({title:"Error",text:e,icon:"x-circle",appearance:"denger",position:"top-center"})}}}},methods:{login_with_google(e){let o=w(e.credential),n=o.email,a=o.family_name,r=o.given_name,i=o.picture;this.$resources.login_with_google.submit({email:n,first_name:a,last_name:r,image_url:i})},login_with_whatsapp(){var e=/^[6-9][0-9]{9}$/;this.phone==""?this.error="Please enter mobile number for login with Whatsapp":e.test(this.phone)==!1?this.error="Please enter 10 digit mobile number":(this.error="",this.$resources.login_with_whatsapp.submit({phone:this.phone}))},login_with_sms(){var e=/^[6-9][0-9]{9}$/;this.phone==""?this.error="Please enter mobile number for login with SMS":e.test(this.phone)==!1?this.error="Please enter 10 digit mobile number":this.$resources.login_with_sms.submit({phone:this.phone})},checkLoginState(){FB.getLoginStatus(function(e){e.status==="connected"?FB.api("/me",function(o){console.log("UserInfo:",o)}):console.log("User is not logged in with Facebook")})}}},B={class:"container mx-auto mb-[150px]"},C={class:"container mx-auto h-full"},E={class:"w-full pt-0 md:pt-5 lg:pt-12"},V={class:"container py-0"},D={class:"w-5/5 md:w-6/6 lg:w-4/6 mx-auto bg-white"},P={class:"py-1 md:py-4 lg:py-8 px-4 md:px-6 lg:px-10 font-semibold text-gray-600 text-gray-600 text-center text-[30px] md:text-[32px] lg:text-[40px]"},A={class:"relative py-4 z-0 px-8"},z={class:"mb-4"},M={class:"block text-gray-600 text-base mb-2",for:"phone"},T={key:0,class:"text-red-500"},U={key:1,class:"text-sm text-gray-400"},W={class:"mb-4 grid md:grid-cols-2 sm:grid-cols-1"},G=t("div",{class:"mb-4"},[t("div",{class:"flex items-center uppercase text-gray-600 my-4 before:flex-1 before:border-t before:border-gray-600 before:mt-0.5 after:flex-1 after:border-t after:border-gray-600 after:mt-0.5"},[t("p",{class:"text-center mx-4 mb-0"},"Or")])],-1),I={class:"mb-4 grid md:grid-cols-2 sm:grid-cols-1"},O={class:"text-center"},Y={class:"block text-gray-600 text-center text-base mb-2"},K={class:"text-[#40b751]",href:"/sadbhavna/login"},R={class:"block text-gray-600 text-center text-base mb-2"},j=t("div",{class:"pl-96"},[t("div",{class:"imageresponsive absolute bg-no-repeat z-1 -mt-[430px] ml-[1000px] sm:w-0 md:w-0 lg:w-0 xl:w-96 bg-no-repeat opacity-40 bg-white bg-contain bg-no-repeat",style:{"background-image":"url('https://crowdfunding.frappe.cloud/files/bg-tree.png')"}})],-1);function q(e,o,n,a,r,i){const b=c("Navbar"),u=c("GoogleLogin"),_=c("router-link"),x=c("Footer");return d(),g(L,null,[p(b),t("div",B,[t("div",C,[t("div",E,[t("div",V,[t("div",D,[t("div",P,s(e.$t("Login")),1),t("div",A,[t("div",z,[t("label",M,s(e.$t("Enter Your Number")),1),f(t("input",{onKeyup:o[0]||(o[0]=l=>r.error=""),class:k("appearance-none hover:border-[#40b751] rounded w-full py-2 px-3 text-grey-darker border",(r.error=="","border-red-600")),"onUpdate:modelValue":o[1]||(o[1]=l=>r.phone=l),type:"number"},null,34),[[y,r.phone]]),r.error?(d(),g("div",T,s(r.error),1)):h("",!0),r.phone&&!r.error?(d(),g("span",U,s(e.$t("An OTP will be sent to"))+" "+s(r.phone),1)):h("",!0)]),t("div",W,[t("button",{class:"appearance-none border-gray-600 rounded mb-5 py-2 px-3 text-grey-darker bg-[#40b751] hover:bg-transparent text-white hover:text-[#40b751] py-2 tracking-wide px-4 border border-[#40b751] hover:border-[#40b751] py-3 text-xs uppercase rounded",onClick:o[2]||(o[2]=l=>i.login_with_whatsapp())},s(e.$t("Login with Whatsapp")),1),t("button",{class:"appearance-none border-gray-600 lg:ml-2 mb-5 sm:ml-2 rounded py-2 px-3 text-grey-darker bg-[#40b751] hover:bg-transparent text-white hover:text-[#40b751] py-2 tracking-wide px-4 border border-[#40b751] hover:border-[#40b751] py-3 text-xs uppercase rounded",onClick:o[3]||(o[3]=l=>i.login_with_sms())},s(e.$t("Login With SMS")),1)]),G,t("div",I,[t("div",O,[p(u,{callback:i.login_with_google},null,8,["callback"])]),t("button",{class:"fb-login-button","data-button-type":"","data-use-continue-as":"true","data-width":"","data-hight":"",onClick:o[4]||(o[4]=l=>i.checkLoginState())}," Login with Facebook ")]),t("span",Y,[t("a",K,s(e.$t("Login Via Email")),1)]),t("span",R,[m(s(e.$t("New to BestDeed?"))+" ",1),p(_,{to:"/sadbhavna/registration",class:"font-bold text-[#40b751]"},{default:$(()=>[m(s(e.$t("Register now")),1)]),_:1})])])])])])])]),j,p(x)],64)}var Q=v(N,[["render",q]]);export{Q as default};
