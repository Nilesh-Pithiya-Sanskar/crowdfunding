import{_ as v,E as w,o as h,c as g,k as c,e as t,t as r,G as y,H as k,n as $,b as u,w as b,p,F as L,r as d}from"./index.ed28e7db.js";import{N as S,F}from"./Footer.222d44b8.js";var N="/assets/sadbhavna_donatekart/frontend/assets/logo64x64.7f2cd962.svg";const E={name:"Auto Login",components:{Navbar:S,Footer:F},setup(){return{user:inject("user")}},data(){return{phone:"",email:"",error:""}},mounted(){this.user.isLoggedIn()&&this.$router.push("/"),document.title=this.$t("Login Now | BestDeed");const e=document.querySelector('link[rel="canonical"]');if(e)e.href="https://bestdeed.org/login",document.head.appendChild(e);else{var o=document.createElement("link");o.rel="canonical",o.href="https://bestdeed.org/login",document.head.appendChild(o)}this.$nextTick(()=>this.$refs.number.focus()),FB.init({appId:"1616534218770661",cookie:!0,xfbml:!0,version:"v13.0"})},resources:{login_with_whatsapp(){return{method:"sadbhavna_donatekart.api.api.login_with_whatsapp",onSuccess:e=>{console.log("okey",e);let o=e[0],n=e[1],i=e[2];this.$router.push(`/otp/${o}&${n}&${i}`)},onError:e=>{console.log("error",e)}}},login_with_sms(){return{method:"sadbhavna_donatekart.api.api.login_with_sms",onSuccess:e=>{console.log("okey",e);let o=e[0],n=e[1],i=e[2];this.$router.push(`/otp/${o}&${n}&${i}`)},onError:e=>{console.log("error",e)}}},login_with_google(){return{method:"sadbhavna_donatekart.api.api.login_with_google",onSuccess:e=>{this.$toast({title:"Login Success",text:this.$t("You are successfully login to our platform"),icon:"check",position:"top-center"}),this.$router.push("/")},onError:e=>{console.log("error",e),this.$toast({title:"Error",text:e,icon:"x-circle",appearance:"denger",position:"top-center"})}}}},methods:{login_with_google(e){let o=w(e.credential),n=o.email,i=o.family_name,s=o.given_name,l=o.picture;this.$resources.login_with_google.submit({email:n,first_name:i,last_name:s,image_url:l})},login_with_whatsapp(){var e=/^[6-9][0-9]{9}$/;this.phone==""?this.error=this.$t("Please enter mobile number for login with Whatsapp"):e.test(this.phone)==!1?this.error=this.$t("Please enter 10 digit mobile number"):(this.error="",this.$resources.login_with_whatsapp.submit({phone:this.phone}))},login_with_sms(){var e=/^[6-9][0-9]{9}$/;this.phone==""?this.error=this.$t("Please enter mobile number for login with SMS"):e.test(this.phone)==!1?this.error=this.$t("Please enter 10 digit mobile number"):this.$resources.login_with_sms.submit({phone:this.phone})},checkLoginState(){console.log("fb called"),FB.getLoginStatus(function(e){console.log("login state response",e),e.status==="connected"?FB.api("/me",function(o){console.log("UserInfo:",o)}):console.log("User is not logged in with Facebook")})}}},C={class:"grid sm:grid-cols-1 md:grid-cols-3 lg:grid-cols-3"},B=t("div",{class:"z-0"},[t("img",{class:"w-full h-auto object-cover bg-left"})],-1),V={class:"z-10 py-10 layout"},D={class:"py-0"},P={class:"p-6 shadow-lg card-shodow w-full md:w-[350px] lg:w-[440px] mx-auto bg-white"},j=t("img",{src:N,class:"mx-auto rounded-full border border-[#40b751] md:mr-2 lg:mr-2 w-18 h-14 md:h-16 lg:h-20 ml-0 lg:ml-6"},null,-1),z={class:"text-[#40b751] text-center mb-3 font-bold text-[30px] md:text-[32px] lg:text-[34px]"},A={class:""},T={class:"mb-4"},G={class:"block text-gray-600 text-base mb-2",for:"phone"},I={key:0,class:"text-red-500"},M={key:1,class:"text-sm text-gray-400"},U={class:"mb-4 grid md:grid-cols-1 lg:grid-cols-2"},W=t("div",{class:"mb-4"},[t("div",{class:"flex items-center uppercase text-gray-600 my-4 before:flex-1 before:border-t before:border-gray-600 before:mt-0.5 after:flex-1 after:border-t after:border-gray-600 after:mt-0.5"},[t("p",{class:"text-center mx-4 mb-0"},"Or")])],-1),O={class:"mb-4 login-with-mobile flex flex-wrap justify-between"},Y={class:"px-4"},q={class:"block text-gray-600 text-center text-base mb-2"},H=t("div",{class:"grid content-end z-0"},[t("img",{class:"w-full h-auto object-cover bg-right"})],-1);function K(e,o,n,i,s,l){const _=d("Navbar"),f=d("GoogleLogin"),m=d("router-link"),x=d("Footer");return h(),g(L,null,[c(_),t("section",null,[t("div",C,[B,t("div",V,[t("div",D,[t("div",P,[j,t("h1",z,[t("small",null,r(e.$t("Login")),1)]),t("div",A,[t("div",T,[t("label",G,r(e.$t("Enter Your Number")),1),y(t("input",{onKeyup:o[0]||(o[0]=a=>s.error=""),class:$("appearance-none hover:border-[#40b751] rounded w-full py-2 px-3 text-grey-darker border",(s.error=="","border-red-600")),"onUpdate:modelValue":o[1]||(o[1]=a=>s.phone=a),ref:"number",type:"tel"},null,34),[[k,s.phone]]),s.error?(h(),g("div",I,r(s.error),1)):u("",!0),s.phone&&!s.error?(h(),g("span",M,r(e.$t("An OTP will be sent to"))+" "+r(s.phone),1)):u("",!0)]),t("div",U,[t("button",{class:"appearance-none border-gray-600 rounded mb-5 py-2 px-3 text-grey-darker bg-[#40b751] hover:bg-transparent text-white hover:text-[#40b751] py-2 tracking-wide px-4 border border-[#40b751] hover:border-[#40b751] py-3 text-xs uppercase rounded",onClick:o[2]||(o[2]=a=>l.login_with_whatsapp())},r(e.$t("Login with Whatsapp")),1),t("button",{class:"appearance-none border-gray-600 sm:ml-0 md:ml-2 lg:ml-2 mb-5 rounded py-2 px-3 text-grey-darker bg-[#40b751] hover:bg-transparent text-white hover:text-[#40b751] py-2 tracking-wide px-4 border border-[#40b751] hover:border-[#40b751] py-3 text-xs uppercase rounded",onClick:o[3]||(o[3]=a=>l.login_with_sms())},r(e.$t("Login With SMS")),1)]),W]),t("div",O,[t("div",Y,[c(f,{callback:l.login_with_google},null,8,["callback"])]),t("button",{class:"fb-login-button px-4","data-button-type":"","data-use-continue-as":"true","data-width":"","data-hight":"",onClick:o[4]||(o[4]=a=>l.checkLoginState())}," Login with Facebook ")]),c(m,{class:"text-[#40b751] block text-gray-600 text-center text-base mb-2",to:"/login-via-email"},{default:b(()=>[p(r(e.$t("Login Via Email")),1)]),_:1}),t("span",q,[p(r(e.$t("New to BestDeed?"))+" ",1),c(m,{to:"/registration",class:"font-bold text-[#40b751]"},{default:b(()=>[p(r(e.$t("Register now")),1)]),_:1})])])])]),H])]),c(x)],64)}var Q=v(E,[["render",K]]);export{Q as default};
