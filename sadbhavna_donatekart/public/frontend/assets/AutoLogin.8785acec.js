import{_,G as x,o as p,c,k as g,e as o,y as v,H as f,n as w,t as m,b as u,F as y,A as k,r as h}from"./index.de00522d.js";import{N as F,F as L}from"./Footer.193c5fb1.js";const $={name:"Auto Login",components:{Navbar:F,Footer:L},data(){return{phone:"",email:"",error:""}},mounted(){FB.init({appId:"1616534218770661",cookie:!0,xfbml:!0,version:"v13.0"})},resources:{login_with_whatsapp(){return{method:"sadbhavna_donatekart.api.api.login_with_whatsapp",onSuccess:e=>{console.log("okey",e);let t=e[0],a=e[1],n=e[2];this.$router.push(`/sadbhavna/otp/${t}&${a}&${n}`)},onError:e=>{console.log("error",e)}}},login_with_sms(){return{method:"sadbhavna_donatekart.api.api.login_with_sms",onSuccess:e=>{console.log("okey",e);let t=e[0],a=e[1],n=e[2];this.$router.push(`/sadbhavna/otp/${t}&${a}&${n}`)},onError:e=>{console.log("error",e)}}}},methods:{login_with_google:e=>{let t=x(e.credential),a=t.email,n=t.family_name,r=t.given_name,i=t.picture,d=`https://crowdfunding.frappe.cloud/api/method/sadbhavna_donatekart.api.api.login_with_google?email=${a}&first_name=${n}&last_name=${r}&image_url=${i}`;fetch(d,{method:"GET"}).then(l=>{l.json().then(b=>{var s=globalThis.$cookies.get("route");s!=null?globalThis.$router.go(-1):globalThis.$router.push("/sadbhavna")})}).catch(function(l){log("Request failed",l)})},login_with_whatsapp(){var e=/^[6-9][0-9]{9}$/;this.phone==""?this.error="Please Enter Mobile Number For Login With Whatsapp":e.test(this.phone)==!1?this.error="Please Enter 10 Digit Mobile Number":(this.error="",this.$resources.login_with_whatsapp.submit({phone:this.phone}))},login_with_sms(){var e=/^[6-9][0-9]{9}$/;this.phone==""?this.error="Please Enter Mobile Number For Login With SMS":e.test(this.phone)==!1?this.error="Please Enter 10 Digit Mobile Number":this.$resources.login_with_sms.submit({phone:this.phone})},checkLoginState(){FB.getLoginStatus(function(e){e.status==="connected"?FB.api("/me",function(t){console.log("UserInfo:",t)}):console.log("User is not logged in with Facebook")})}}},N={class:"container mx-auto mb-[150px]"},S=o("div",{class:"absolute bg-bottom bg-x-center bg-y-bottom bg-no-repeat z-1 top-[498px] sm:h-0 md:h-0 lg:h-0 xl:h-[485px] sm:w-0 md:w-0 lg:w-0 xl:w-[600px] sm:right-0 md:right-2 lg:right-2 xl:right-0 bg-no-repeat opacity-40 bg-white bg-contain bg-no-repeat",style:{"background-image":"url('https://crowdfunding.frappe.cloud/files/bg-tree.png')"}},null,-1),E={class:"container mx-auto h-full"},C={class:"w-full pt-0 md:pt-5 lg:pt-12"},M={class:"container py-0"},B={class:"w-5/5 md:w-6/6 lg:w-4/6 mx-auto bg-white"},D=o("div",{class:"py-1 md:py-4 lg:py-8 px-4 md:px-6 lg:px-10 font-semibold text-gray-600 text-gray-600 text-center text-[30px] md:text-[32px] lg:text-[40px]"}," Login ",-1),P={class:"relative py-4 z-0 px-8"},T={class:"mb-4"},V=o("label",{class:"block text-gray-600 text-base mb-2",for:"phone"},"Enter Your Number",-1),A={key:0,class:"text-red-500"},G={key:1,class:"text-sm text-gray-400"},W={class:"mb-4 grid md:grid-cols-2 sm:grid-cols-1"},z=o("div",{class:"mb-4"},[o("div",{class:"flex items-center uppercase text-gray-600 my-4 before:flex-1 before:border-t before:border-gray-600 before:mt-0.5 after:flex-1 after:border-t after:border-gray-600 after:mt-0.5"},[o("p",{class:"text-center mx-4 mb-0"},"Or")])],-1),I={class:"mb-4 grid md:grid-cols-2 sm:grid-cols-1"},U={class:"text-center"},j=k('<div class="mb-4"><div class="flex mb-10 justify-between"><span class="text-gray-600">Forget password? <a class="text-[#40b751]" href="/sadbhavna/login">Click here</a></span><a class="text-[#40b751] font-bold text-lg" href="/sadbhavna/registration">Register</a></div></div><div class="mb-4"><span class="block text-gray-600 text-center text-base mb-2"><a class="text-[#40b751]" href="/sadbhavna/login">Login </a> \xA0via ID Password</span></div>',2);function O(e,t,a,n,r,i){const d=h("Navbar"),l=h("GoogleLogin"),b=h("Footer");return p(),c(y,null,[g(d),o("div",N,[S,o("div",E,[o("div",C,[o("div",M,[o("div",B,[D,o("div",P,[o("div",T,[V,v(o("input",{onKeyup:t[0]||(t[0]=s=>r.error=""),class:w("appearance-none hover:border-[#40b751] rounded w-full py-2 px-3 text-grey-darker border",(r.error=="","border-red-600")),"onUpdate:modelValue":t[1]||(t[1]=s=>r.phone=s),type:"number"},null,34),[[f,r.phone]]),r.error?(p(),c("div",A,m(r.error),1)):u("",!0),r.phone&&!r.error?(p(),c("span",G," An OTP will be sent to "+m(r.phone),1)):u("",!0)]),o("div",W,[o("button",{class:"appearance-none border-gray-600 rounded mb-5 py-2 px-3 text-grey-darker bg-[#40b751] hover:bg-transparent text-white hover:text-[#40b751] py-2 tracking-wide px-4 border border-[#40b751] hover:border-[#40b751] py-3 text-xs uppercase rounded",onClick:t[2]||(t[2]=s=>i.login_with_whatsapp())},"Login with Whatsapp"),o("button",{class:"appearance-none border-gray-600 lg:ml-2 mb-5 rounded py-2 px-3 text-grey-darker bg-[#40b751] hover:bg-transparent text-white hover:text-[#40b751] py-2 tracking-wide px-4 border border-[#40b751] hover:border-[#40b751] py-3 text-xs uppercase rounded",onClick:t[3]||(t[3]=s=>i.login_with_sms())}," Login with SMS")]),z,o("div",I,[o("div",U,[g(l,{callback:i.login_with_google},null,8,["callback"])]),o("button",{class:"fb-login-button","data-button-type":"","data-use-continue-as":"true","data-width":"","data-hight":"",onClick:t[4]||(t[4]=s=>i.checkLoginState())}," Login with Facebook ")]),j])])])])])]),g(b)],64)}var H=_($,[["render",O]]);export{H as default};
