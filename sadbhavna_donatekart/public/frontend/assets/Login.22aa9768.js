var g=(t,o,n)=>new Promise((m,r)=>{var d=s=>{try{a(n.next(s))}catch(i){r(i)}},c=s=>{try{a(n.throw(s))}catch(i){r(i)}},a=s=>s.done?m(s.value):Promise.resolve(s.value).then(d,c);a((n=n.apply(t,o)).next())});import{_ as x,A as w,o as v,c as y,k as p,e,t as l,p as u,C as f,E as b,w as _,F as k,r as h}from"./index.8cf4c30a.js";import{N as $,F as E,_ as P}from"./Footer.1f1e0af0.js";const F={name:"Login",components:{Navbar:$,Footer:E},data(){return{password:"",error:!1,passwordError:"",emailError:"",email:"",isLogin:!1}},created(){document.title=this.$t("Login now | BestDeed")},mounted(){this.$nextTick(()=>this.$refs.email.focus())},resources:{login(){return{method:"/api/method/login",onSuccess:()=>g(this,null,function*(){var t=this.$cookies.get("route");console.log("route",t),t!=null?this.$router.go(-2):this.$router.push("/bestdeed")}),onError:t=>{this.$toast({title:"Error",text:"User Name or Password Incorrect",icon:"x-circle",appearance:"denger",position:"top-center"}),this.email="",this.password=""}}},login_with_google(){return{method:"frappe.www.login.login_via_token",onSuccess:()=>{this.$router.push("/bestdeed")},onError:t=>{console.log("error",t),this.$toast({title:"Error",text:"Something want Wrong!",icon:"x-circle",appearance:"denger",position:"top-center"})}}},forgotPassword(){return{method:"sadbhavna_donatekart.api.api.forgot_password",onSuccess:t=>{t=="user not found with this email"?this.emailError=t:(console.log("mail send"),this.$toast({title:"Mail Sent",text:"forgot password mail is sent open link to set password",icon:"right",position:"top-center"}))},onError:t=>{console.log("error for pass",t)}}}},methods:{login(){!this.email&&!this.password?this.error==!0:this.email==""?(this.emailError="Please enter email!",this.error=!0,console.log("email")):this.password==""?(this.passwordError="Please enter password!",this.error=!0,console.log("password")):(this.error==!1,this.$resources.login.submit({usr:this.email,pwd:this.password}))},login_with_google:t=>{let o=w(t.credential),n=o.email,m=o.family_name,r=o.given_name,d=o.picture,c=`http://sadbhavnadonatekart.com:8080/api/method/sadbhavna_donatekart.api.api.login_with_google?email=${n}&first_name=${m}&last_name=${r}&image_url=${d}`;fetch(c,{method:"GET"}).then(a=>{a.json().then(s=>{console.log("asdf",s.message),console.log("asdf",s),s.message,window.location="http://sadbhavnadonatekart.com:8080/home"})}).catch(function(a){log("Request failed",a)})},forgotPassword(){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;this.email==""?this.emailError="Please enter email":t.test(this.email)==!1&&this.email?this.emailError="Please enter valid email":this.$resources.forgotPassword.submit({email:this.email})}}},N={class:"flex justify-center gradient-form h-full"},S={class:"container h-full px-8 lg:px-40 py-10"},q={class:"g-6 flex h-full flex-wrap items-center justify-center text-neutral-800 dark:text-neutral-200"},G={class:"w-full"},L={class:"block rounded-lg bg-white shadow-lg card-shodow dark:bg-neutral-800"},j={class:"g-0 lg:flex lg:flex-wrap"},C={class:"px-10 py-5 px-4 md:px-0 lg:w-6/12"},V={class:"p-1 md:p-2 lg:p-4"},B={class:"text-center"},D=e("img",{src:P,class:"mx-auto rounded-full border border-[#40b751] md:mr-2 lg:mr-2 w-18 h-14 md:h-16 lg:h-20 ml-0 lg:ml-6"},null,-1),M={class:"text-[#40b751] text-center mb-3 font-bold text-[30px] md:text-[32px] lg:text-[34px]"},T={class:"relative w-full mb-3"},U={class:"block uppercase text-blueGray-600 text-sm font-bold mb-2",htmlFor:"grid-password"},A=e("span",{class:"text-red-600"},"*",-1),I=["placeholder"],z={class:"text-red-600"},R={class:"relative w-full mb-3"},W={class:"block uppercase text-blueGray-600 text-sm font-bold mb-2",htmlFor:"grid-password"},Z=e("span",{class:"text-red-600"},"*",-1),K=["placeholder"],O={class:"text-red-600"},H={class:"text-red-600"},J={class:"text-center mt-6"},Q={class:"flex items-center justify-between"},X={class:"flex items-center rounded-b-lg bg-gradient-to-l from-lime-600 to-green-400 lg:w-6/12 lg:rounded-r-lg lg:rounded-bl-none"},Y={class:"px-4 py-6 text-white md:mx-6 md:p-12"},ee=e("h4",{class:"mb-6 text-xl font-semibold"},"We are more than just a company",-1),te={class:"text-sm"};function oe(t,o,n,m,r,d){const c=h("Navbar"),a=h("router-link"),s=h("Footer");return v(),y(k,null,[p(c),e("section",N,[e("div",S,[e("div",q,[e("div",G,[e("div",L,[e("div",j,[e("div",C,[e("div",V,[e("div",B,[D,e("div",M,[e("small",null,l(t.$t("Sign In")),1)])]),e("form",null,[e("div",T,[e("label",U,[u(l(t.$t("Email "))+" ",1),A]),f(e("input",{"onUpdate:modelValue":o[0]||(o[0]=i=>r.email=i),onKeyup:o[1]||(o[1]=i=>r.emailError=""),type:"email",class:"placeholder-blueGray-300 appearance-none border-gray-300 text-sm hover:border-[#40b751] focus:text-black focus:font-semibold rounded w-full py-2 px-3",placeholder:t.$t("Email"),required:""},null,40,I),[[b,r.email]]),e("p",z,l(r.emailError),1)]),e("div",R,[e("label",W,[u(l(t.$t("Password ")),1),Z]),f(e("input",{"onUpdate:modelValue":o[2]||(o[2]=i=>r.password=i),type:"password",class:"placeholder-blueGray-300 appearance-none border-gray-300 text-sm hover:border-[#40b751] focus:text-black focus:font-semibold rounded w-full py-2 px-3 ease-linear transition-all duration-150",placeholder:t.$t("Password"),required:""},null,8,K),[[b,r.password]]),e("p",O,l(r.passwordError),1)]),e("p",H,l(t.errorMsg),1),e("div",J,[e("button",{style:{"background-color":"#40b751"},class:"cursor-pointer border-[#40b751] hover:border-[#40b751] bg-gradient-to-l from-green-400 to-lime-600 hover:bg-transparent text-white active:bg-blueGray-600 text-sm font-bold uppercase px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-4 w-full ease-linear transition-all duration-150",type:"button",onClick:o[3]||(o[3]=i=>d.login())},l(t.$t("Sign In")),1),e("div",{onClick:o[4]||(o[4]=i=>d.forgotPassword()),class:"cursor-pointer text-green-500"},l(t.$t("Forgot Password?")),1)]),e("div",Q,[p(a,{to:"auto-login",class:"text-green-500 text-left"},{default:_(()=>[u(l(t.$t("Other Login Method")),1)]),_:1}),p(a,{to:"/bestdeed/registration",class:"text-green-500 text-center border-emerald-600 text-emerald-600 inline-block rounded border-2 px-6 pb-[6px] pt-2 text-sm leading-normal transition duration-150 ease-in-out hover:bg-neutral-500 hover:bg-opacity-10 focus:outline-none text-green-500 focus:ring-0 dark:hover:bg-neutral-100 dark:hover:bg-opacity-10"},{default:_(()=>[u(l(t.$t("Register")),1)]),_:1})])])])]),e("div",X,[e("div",Y,[ee,e("p",te,l(t.$t("Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.")),1)])])])])])])])]),p(s)],64)}var ae=x(F,[["render",oe]]);export{ae as default};
