var g=(t,o,d)=>new Promise((m,a)=>{var n=r=>{try{i(d.next(r))}catch(s){a(s)}},c=r=>{try{i(d.throw(r))}catch(s){a(s)}},i=r=>r.done?m(r.value):Promise.resolve(r.value).then(n,c);i((d=d.apply(t,o)).next())});import{_ as x,A as v,o as y,c as k,k as p,e,t as l,p as u,C as f,E as b,l as _,w,F as $,r as h}from"./index.a534a200.js";import{N as E,F as P,_ as F}from"./Footer.1b35510d.js";const N={name:"Login",components:{Navbar:E,Footer:P},data(){return{password:"",error:!1,passwordError:"",emailError:"",email:"",isLogin:!1}},created(){document.title=this.$t("Login Now | Trusted and 100% Transparent Online Crowdfunding Platform | BestDeed")},mounted(){this.$nextTick(()=>this.$refs.email.focus())},resources:{login(){return{method:"/api/method/login",onSuccess:()=>g(this,null,function*(){var t=this.$cookies.get("route");console.log("route",t),t!=null?this.$router.go(-2):this.$router.push("/")}),onError:t=>{this.$toast({title:"Error",text:"User Name or Password Incorrect",icon:"x-circle",appearance:"denger",position:"top-center"}),this.email="",this.password=""}}},login_with_google(){return{method:"frappe.www.login.login_via_token",onSuccess:()=>{this.$router.push("/")},onError:t=>{console.log("error",t),this.$toast({title:"Error",text:"Something want Wrong!",icon:"x-circle",appearance:"denger",position:"top-center"})}}},forgotPassword(){return{method:"sadbhavna_donatekart.api.api.forgot_password",onSuccess:t=>{t=="user not found with this email"?this.emailError=t:(console.log("mail send"),this.$toast({title:"Mail Sent",text:"forgot password mail is sent open link to set password",icon:"right",position:"top-center"}))},onError:t=>{console.log("error for pass",t)}}}},methods:{login(){console.log("email dsfas"),!this.email&&!this.password?this.error==!0:this.email==""?(this.emailError="Please enter email!",this.error=!0,console.log("email")):this.password==""?(this.passwordError="Please enter password!",this.error=!0,console.log("password")):(this.error==!1,this.$resources.login.submit({usr:this.email,pwd:this.password}))},login_with_google:t=>{let o=v(t.credential),d=o.email,m=o.family_name,a=o.given_name,n=o.picture,c=`http://sadbhavnadonatekart.com:8080/api/method/sadbhavna_donatekart.api.api.login_with_google?email=${d}&first_name=${m}&last_name=${a}&image_url=${n}`;fetch(c,{method:"GET"}).then(i=>{i.json().then(r=>{console.log("asdf",r.message),console.log("asdf",r),r.message,window.location="http://sadbhavnadonatekart.com:8080/home"})}).catch(function(i){log("Request failed",i)})},forgotPassword(){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;this.email==""?this.emailError="Please enter email":t.test(this.email)==!1&&this.email?this.emailError="Please enter valid email":this.$resources.forgotPassword.submit({email:this.email})}}},S={class:"flex justify-center gradient-form h-full"},T={class:"container h-full px-8 lg:px-40 py-10"},B={class:"g-6 flex h-full flex-wrap items-center justify-center text-neutral-800 dark:text-neutral-200"},D={class:"w-full"},C={class:"block rounded-lg bg-white shadow-lg card-shodow dark:bg-neutral-800"},G={class:"g-0 lg:flex lg:flex-wrap"},L={class:"px-10 py-5 px-4 md:px-0 lg:w-6/12"},V={class:"p-1 md:p-2 lg:p-4"},W={class:"text-center"},j=e("img",{src:F,class:"mx-auto rounded-full border border-[#40b751] md:mr-2 lg:mr-2 w-18 h-14 md:h-16 lg:h-20 ml-0 lg:ml-6"},null,-1),z={class:"text-[#40b751] text-center mb-3 font-bold text-[30px] md:text-[32px] lg:text-[34px]"},M={class:"relative w-full mb-3"},q={class:"block uppercase text-blueGray-600 text-sm font-bold mb-2",htmlFor:"grid-password"},A=e("span",{class:"text-red-600"},"*",-1),I=["placeholder"],K={class:"text-red-600"},U={class:"relative w-full mb-3"},R={class:"block uppercase text-blueGray-600 text-sm font-bold mb-2",htmlFor:"grid-password"},Z=e("span",{class:"text-red-600"},"*",-1),O=["placeholder"],H={class:"text-red-600"},J={class:"text-red-600"},Q={class:"text-center mt-6"},X={class:"flex items-center justify-between"},Y={class:"flex items-center rounded-b-lg bg-gradient-to-l from-lime-600 to-green-400 lg:w-6/12 lg:rounded-r-lg lg:rounded-bl-none"},ee={class:"px-6 py-6 text-white"},te={class:"mb-6 text-xl font-semibold"},oe={class:"text-sm"};function se(t,o,d,m,a,n){const c=h("Navbar"),i=h("router-link"),r=h("Footer");return y(),k($,null,[p(c),e("section",S,[e("div",T,[e("div",B,[e("div",D,[e("div",C,[e("div",G,[e("div",L,[e("div",V,[e("div",W,[j,e("div",z,[e("small",null,l(t.$t("Sign In")),1)])]),e("form",null,[e("div",M,[e("label",q,[u(l(t.$t("Email"))+" ",1),A]),f(e("input",{"onUpdate:modelValue":o[0]||(o[0]=s=>a.email=s),onKeyup:[o[1]||(o[1]=s=>a.emailError=""),o[2]||(o[2]=_((...s)=>n.login&&n.login(...s),["enter"]))],type:"email",class:"placeholder-blueGray-300 appearance-none border-gray-300 text-sm hover:border-[#40b751] focus:text-black focus:font-semibold rounded w-full py-2 px-3",placeholder:t.$t("Email"),required:""},null,40,I),[[b,a.email]]),e("p",K,l(a.emailError),1)]),e("div",U,[e("label",R,[u(l(t.$t("Password ")),1),Z]),f(e("input",{"onUpdate:modelValue":o[3]||(o[3]=s=>a.password=s),type:"password",onKeyup:o[4]||(o[4]=_((...s)=>n.login&&n.login(...s),["enter"])),class:"placeholder-blueGray-300 appearance-none border-gray-300 text-sm hover:border-[#40b751] focus:text-black focus:font-semibold rounded w-full py-2 px-3 ease-linear transition-all duration-150",placeholder:t.$t("Password"),required:""},null,40,O),[[b,a.password]]),e("p",H,l(a.passwordError),1)]),e("p",J,l(t.errorMsg),1),e("div",Q,[e("button",{style:{"background-color":"#40b751"},class:"cursor-pointer border-[#40b751] hover:border-[#40b751] bg-gradient-to-l from-green-400 to-lime-600 hover:bg-transparent text-white active:bg-blueGray-600 text-sm font-bold uppercase px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-4 w-full ease-linear transition-all duration-150",type:"button",onClick:o[5]||(o[5]=s=>n.login())},l(t.$t("Sign In")),1),e("div",{onClick:o[6]||(o[6]=s=>n.forgotPassword()),class:"cursor-pointer text-green-500"},l(t.$t("Forgot Password?")),1)]),e("div",X,[p(i,{to:"/login",class:"text-green-500 text-left"},{default:w(()=>[u(l(t.$t("Login With Mobile")),1)]),_:1}),p(i,{to:"/registration",class:"text-green-500 text-center border-emerald-600 text-emerald-600 inline-block rounded border-2 px-6 pb-[6px] pt-2 text-sm leading-normal transition duration-150 ease-in-out hover:bg-neutral-500 hover:bg-opacity-10 focus:outline-none text-green-500 focus:ring-0 dark:hover:bg-neutral-100 dark:hover:bg-opacity-10"},{default:w(()=>[u(l(t.$t("Register")),1)]),_:1})])])])]),e("div",Y,[e("div",ee,[e("h4",te,l(t.$t("Welcome to BestDeed!")),1),e("p",oe,l(t.$t("BestDeed is a leading platform that connects donors with non-profit organizations worldwide. We strive to create a world where everyone has the opportunity to make a positive impact on society. Through our user-friendly website, users can easily discover and donate to a variety of causes, from education to environmental sustainability. We are committed to providing a safe and secure platform for donors and organizations to collaborate and make a meaningful difference in the world. Thank you for choosing BestDeed as your go-to platform for charitable giving.")),1)])])])])])])])]),p(r)],64)}var ne=x(N,[["render",se]]);export{ne as default};
