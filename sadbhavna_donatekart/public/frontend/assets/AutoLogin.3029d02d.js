import{_,E as x,o as c,c as p,k as g,e as t,y as v,G as f,n as w,t as h,b as u,F as y,A as k,r as b}from"./index.b48fecb8.js";import{N as F,F as L}from"./Footer.c8d677ef.js";const $={name:"Auto Login",components:{Navbar:F,Footer:L},data(){return{phone:"",email:"",error:""}},mounted(){FB.init({appId:"1616534218770661",cookie:!0,xfbml:!0,version:"v13.0"})},resources:{login_with_whatsapp(){return{method:"sadbhavna_donatekart.api.api.login_with_whatsapp",onSuccess:e=>{console.log("okey",e);let o=e[0],r=e[1],a=e[2];this.$router.push(`/sadbhavna/otp/${o}&${r}&${a}`)},onError:e=>{console.log("error",e)}}},login_with_sms(){return{method:"sadbhavna_donatekart.api.api.login_with_sms",onSuccess:e=>{console.log("okey",e);let o=e[0],r=e[1],a=e[2];this.$router.push(`/sadbhavna/otp/${o}&${r}&${a}`)},onError:e=>{console.log("error",e)}}}},methods:{login_with_google:e=>{let o=x(e.credential),r=o.email,a=o.family_name,s=o.given_name,n=o.picture,d=`https://crowdfunding.frappe.cloud/api/method/sadbhavna_donatekart.api.api.login_with_google?email=${r}&first_name=${a}&last_name=${s}&image_url=${n}`;fetch(d,{method:"GET"}).then(l=>{l.json().then(m=>{var i=globalThis.$cookies.get("route");i!=null?globalThis.$router.go(-1):globalThis.$router.push("/sadbhavna")})}).catch(function(l){log("Request failed",l)})},login_with_whatsapp(){this.phone==""?this.error="Please Enter Mobile Number For Login With Whatsapp":(this.error="",this.$resources.login_with_whatsapp.submit({phone:this.phone}))},login_with_sms(){var e=/^[6-9][0-9]{9}$/;this.phone==""?this.error="Please Enter Mobile Number For Login With SMS":e.test(this.phone)==!1?this.error="Please Enter 10 Digit Mobile Number":this.$resources.login_with_sms.submit({phone:this.phone})},checkLoginState(){FB.getLoginStatus(function(e){e.status==="connected"?FB.api("/me",function(o){console.log("UserInfo:",o)}):console.log("User is not logged in with Facebook")})}}},N={class:"container mx-auto mb-[150px]"},S=t("div",{class:"absolute bg-bottom bg-x-center bg-y-bottom bg-no-repeat z-1 top-[498px] sm:h-0 md:h-0 lg:h-0 xl:h-[485px] sm:w-0 md:w-0 lg:w-0 xl:w-[600px] sm:right-0 md:right-2 lg:right-2 xl:right-0 bg-no-repeat opacity-40 bg-white bg-contain bg-no-repeat",style:{"background-image":"url('https://crowdfunding.frappe.cloud/files/bg-tree.png')"}},null,-1),E={class:"container mx-auto h-full"},C={class:"w-full pt-0 md:pt-5 lg:pt-12"},B={class:"container py-0"},M={class:"w-5/5 md:w-6/6 lg:w-4/6 mx-auto bg-white"},T=t("div",{class:"py-1 md:py-4 lg:py-8 px-4 md:px-6 lg:px-10 font-semibold text-gray-600 text-gray-600 text-center text-[30px] md:text-[32px] lg:text-[40px]"}," Login ",-1),D={class:"relative py-4 z-0 px-8"},P={class:"mb-4"},V=t("label",{class:"block text-gray-600 text-base mb-2",for:"phone"},"Enter Your Number",-1),A={key:0,class:"text-red-500"},G={key:1,class:"text-sm text-gray-400"},W={class:"mb-4 grid md:grid-cols-2 sm:grid-cols-1"},z=t("div",{class:"mb-4"},[t("div",{class:"flex items-center uppercase text-gray-600 my-4 before:flex-1 before:border-t before:border-gray-600 before:mt-0.5 after:flex-1 after:border-t after:border-gray-600 after:mt-0.5"},[t("p",{class:"text-center mx-4 mb-0"},"Or")])],-1),I={class:"mb-4 grid md:grid-cols-2 sm:grid-cols-1"},U={class:"text-center"},j=k('<div class="mb-4"><div class="flex mb-10 justify-between"><span class="text-gray-600">Forget password? <a class="text-[#40b751]" href="/sadbhavna/login">Click here</a></span><a class="text-[#40b751] font-bold text-lg" href="/sadbhavna/registration">Register</a></div></div><div class="mb-4"><span class="block text-gray-600 text-center text-base mb-2"><a class="text-[#40b751]" href="/sadbhavna/login">Login </a> \xA0via ID Password</span></div>',2);function O(e,o,r,a,s,n){const d=b("Navbar"),l=b("GoogleLogin"),m=b("Footer");return c(),p(y,null,[g(d),t("div",N,[S,t("div",E,[t("div",C,[t("div",B,[t("div",M,[T,t("div",D,[t("div",P,[V,v(t("input",{class:w(["appearance-none hover:border-[#40b751] rounded w-full py-2 px-3 text-grey-darker border-2",(s.error!="","border-red-600")]),"onUpdate:modelValue":o[0]||(o[0]=i=>s.phone=i),type:"number"},null,2),[[f,s.phone]]),s.error?(c(),p("div",A,h(s.error),1)):u("",!0),s.phone?(c(),p("span",G," An OTP will be sent to "+h(s.phone)+" "+h(s.error=""),1)):u("",!0)]),t("div",W,[t("button",{class:"appearance-none border-gray-600 rounded mb-5 py-2 px-3 text-grey-darker bg-[#40b751] hover:bg-transparent text-white hover:text-[#40b751] py-2 tracking-wide px-4 border border-[#40b751] hover:border-[#40b751] py-3 text-xs uppercase rounded",onClick:o[1]||(o[1]=i=>n.login_with_whatsapp())},"Login with Whatsapp"),t("button",{class:"appearance-none border-gray-600 lg:ml-2 mb-5 md:ml-2 sm:ml-2 rounded py-2 px-3 text-grey-darker bg-[#40b751] hover:bg-transparent text-white hover:text-[#40b751] py-2 tracking-wide px-4 border border-[#40b751] hover:border-[#40b751] py-3 text-xs uppercase rounded",onClick:o[2]||(o[2]=i=>n.login_with_sms())}," Login with SMS")]),z,t("div",I,[t("div",U,[g(l,{callback:n.login_with_google},null,8,["callback"])]),t("button",{class:"fb-login-button","data-button-type":"","data-use-continue-as":"true","data-width":"","data-hight":"",onClick:o[3]||(o[3]=i=>n.checkLoginState())}," Login with Facebook ")]),j])])])])])]),g(m)],64)}var Y=_($,[["render",O]]);export{Y as default};
