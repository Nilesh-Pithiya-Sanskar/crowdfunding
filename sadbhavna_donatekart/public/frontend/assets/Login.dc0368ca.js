var g=(t,o,i)=>new Promise((u,r)=>{var d=s=>{try{a(i.next(s))}catch(n){r(n)}},c=s=>{try{a(i.throw(s))}catch(n){r(n)}},a=s=>s.done?u(s.value):Promise.resolve(s.value).then(d,c);a((i=i.apply(t,o)).next())});import{_ as w,E as x,o as v,c as y,k as h,e,t as l,p,y as _,G as b,w as f,F as $,r as m}from"./index.b990df17.js";import{N as k,F as E}from"./Footer.ec50c3cf.js";const G={name:"Login",components:{Navbar:k,Footer:E},data(){return{password:"",error:!1,passwordError:"",emailError:"",email:"",isLogin:!1}},resources:{login(){return{method:"/api/method/login",onSuccess:()=>g(this,null,function*(){var t=this.$cookies.get("route");console.log("route",t),t!=null?this.$router.go(-2):this.$router.push("/sadbhavna")}),onError:t=>{this.$toast({title:"Error",text:"User Name or Password Incorrect",customIcon:"circle-fail",appearance:"denger"}),this.email="",this.password=""}}},login_with_google(){return{method:"frappe.www.login.login_via_token",onSuccess:()=>{this.$router.push("/sadbhavna")},onError:t=>{console.log("error",t),this.$toast({title:"Error",text:"Something want Wrong!",customIcon:"circle-fail",appearance:"denger"})}}}},methods:{login(){!this.email&&!this.password?this.error==!0:this.email==""?(this.emailError="Please enter email!",this.error=!0,console.log("email")):this.password==""?(this.passwordError="Please enter password!",this.error=!0,console.log("password")):(this.error==!1,this.$resources.login.submit({usr:this.email,pwd:this.password}))},login_with_google:t=>{let o=x(t.credential),i=o.email,u=o.family_name,r=o.given_name,d=o.picture,c=`http://sadbhavnadonatekart.com:8080/api/method/sadbhavna_donatekart.api.api.login_with_google?email=${i}&first_name=${u}&last_name=${r}&image_url=${d}`;fetch(c,{method:"GET"}).then(a=>{a.json().then(s=>{console.log("asdf",s.message),console.log("asdf",s),s.message,window.location="http://sadbhavnadonatekart.com:8080/home"})}).catch(function(a){log("Request failed",a)})}}},F={class:"container mx-auto h-full my-20"},N={class:"flex content-center items-center justify-center h-full"},S={class:"w-11/12 md:w-6/12 lg:w-4/12 px-4"},I={class:"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-blueGray-200 border-0"},P={class:"flex-auto px-4 lg:px-10 py-10 pt-5"},V={class:"text-blueGray-400 text-center mb-3 font-bold text-[40px] md:text-[45px] lg:text-[45px]"},L={class:"relative w-full mb-3"},q={class:"block uppercase text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password"},B=e("span",{class:"text-red-600"},"*",-1),C=["placeholder"],D={class:"text-red-600"},M={class:"relative w-full mb-3"},T={class:"block uppercase text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password"},U=e("span",{class:"text-red-600"},"*",-1),j=["placeholder"],R={class:"text-red-600"},O={class:"text-red-600"},W={class:"text-center mt-6"},z={class:"grid md:grid-cols-2 sm:grid-cols-2"};function A(t,o,i,u,r,d){const c=m("Navbar"),a=m("router-link"),s=m("Footer");return v(),y($,null,[h(c),e("div",F,[e("div",N,[e("div",S,[e("div",I,[e("div",P,[e("div",V,[e("small",null,l(t.$t("Sign In")),1)]),e("form",null,[e("div",L,[e("label",q,[p(l(t.$t("Email"))+" ",1),B]),_(e("input",{"onUpdate:modelValue":o[0]||(o[0]=n=>r.email=n),type:"email",class:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",placeholder:t.$t("Email"),required:""},null,8,C),[[b,r.email]]),e("p",D,l(r.emailError),1)]),e("div",M,[e("label",T,[p(l(t.$t("Password")),1),U]),_(e("input",{"onUpdate:modelValue":o[1]||(o[1]=n=>r.password=n),type:"password",class:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",placeholder:t.$t("Password"),required:""},null,8,j),[[b,r.password]]),e("p",R,l(r.passwordError),1)]),e("p",O,l(t.errorMsg),1),e("div",W,[e("button",{style:{"background-color":"#40b751"},class:"cursor-pointer border-[#40b751] hover:border-[#40b751] bg-[#40b751] hover:bg-transparent text-white active:bg-blueGray-600 text-sm font-bold uppercase px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-4 w-full ease-linear transition-all duration-150",type:"button",onClick:o[2]||(o[2]=n=>d.login())},l(t.$t("Sign In")),1)]),e("div",z,[h(a,{to:"auto-login",class:"text-green-500 text-left"},{default:f(()=>[p(l(t.$t("Other Login Method")),1)]),_:1}),h(a,{to:"/sadbhavna/registration",class:"text-green-500 text-right"},{default:f(()=>[p(l(t.$t("Register")),1)]),_:1})])])])])])])]),h(s)],64)}var Q=w(G,[["render",A]]);export{Q as default};
