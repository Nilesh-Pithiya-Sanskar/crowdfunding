import{N as h,F as b}from"./Footer.dc6da043.js";import{_ as g,D as _,o as w,c as f,k as a,e,t as n,G as i,H as l,w as v,F as x,J as y,r as d}from"./index.3dde81a1.js";const k={name:"OTP",components:{Navbar:h,Footer:b,Dialog:_},data(){return{message:"",number:"",otp:"",m_type:"",otp_message:"",password:"",re_password:"",passwordError:"",re_passwordError:"",email:"",showDialog:!1,countDown:600}},created(){this.countDownTimer();const o=document.querySelector('link[rel="canonical"]');if(o)o.href="https://bestdeed.org/otp",document.head.appendChild(o);else{var s=document.createElement("link");s.rel="canonical",s.href="https://bestdeed.org/otp",document.head.appendChild(s)}},mounted(){const o=y();document.title=this.$t("OTP | BestDeed"),this.$nextTick(()=>this.$refs.otp.focus()),this.message=o.params.message,this.number=o.params.number,this.m_type=o.params.m_type,console.log("message",this.message)},resources:{verify_otp(){return{method:"sadbhavna_donatekart.api.api.verify_otp",onSuccess:o=>{if(o[0]=="failed")this.otp_message="OTP is not match";else if(o[0]=="pass")this.email=o[1],this.showDialog=!0;else{var s=this.$cookies.get("route");console.log("route",s),s!=null?this.$router.go(-2):this.$router.push("/")}},onError:o=>{console.log("error",o)}}},resetPassword(){return{method:"sadbhavna_donatekart.api.api.reset_password",onSuccess:o=>{console.log("okey"),this.countDownTimer()},onError:o=>{console.log("error")}}},login_with_whatsapp(){return{method:"sadbhavna_donatekart.api.api.login_with_whatsapp",onSuccess:o=>{console.log("okey"),this.countDownTimer()},onError:o=>{console.log("error")}}},login_with_sms(){return{method:"sadbhavna_donatekart.api.api.login_with_sms",onSuccess:o=>{console.log("okey")},onError:o=>{console.log("error")}}}},methods:{verify_otp(){this.number==""?this.otp_message="Please enter OTP":this.$resources.verify_otp.submit({number:this.number,otp:this.otp,m_type:this.m_type})},resetPassword(){this.$resources.resetPassword.submit({email:this.email,password:this.password})},countDownTimer(){this.countDown>0&&setTimeout(()=>{this.countDown-=1,this.countDownTimer()},1e3)},resend_otp(){this.m_type=="whatsapp"?this.$resources.login_with_whatsapp.submit({phone:this.number}):this.m_type=="sms"&&this.$resources.login_with_sms.submit({phone:this.number})}}},D={class:"grid sm:grid-cols-1 md:grid-cols-4 lg:grid-cols-4"},P=e("div",{class:"z-0"},[e("img",{class:"w-full h-auto object-cover bg-left"})],-1),T={class:"col-span-2 layout"},E={class:"mx-auto h-full"},V={class:"w-full bg-grey-lightest mx-auto bg-white"},O={class:"text-[24px] md:text-[30px] lg:text-[36px] text-[#40b751] font-bold text-center"},$={class:"py-2 px-8"},S={class:"mb-7"},C={class:"block text-gray-600 text-base mb-2"},F={class:"mb-4"},N={class:"block text-gray-600 text-base mb-2",for:"email"},B={class:"block text-red-600 text-base mb-2"},U={class:"mb-4 flex flex-wrap justify-between"},j=e("div",{class:"grid content-end z-0"},[e("img",{class:"w-full h-auto object-cover bg-right"})],-1),q={class:"w-4/6 lg:w:4/6 mx-auto bg-white"},z={class:"text-2xl md:text-[30px] lg:text-[36px] font-semibold py-8 px-10 text-green-500 text-bold text-center"},K={class:"relative z-0"},R={class:"mb-4"},G={class:"text-red-600"},H={class:"mb-4"},J={class:"text-red-600"},M={class:"text-center"};function A(o,s,I,L,t,p){const c=d("Navbar"),u=d("Dialog"),m=d("Footer");return w(),f(x,null,[a(c),e("div",D,[P,e("div",T,[e("div",E,[e("div",V,[e("h1",O,n(o.$t("Verify your contact detail")),1),e("div",$,[e("div",S,[e("span",C,n(t.message),1)]),e("div",F,[e("label",N,n(o.$t("Enter OTP")),1),i(e("input",{onKeyup:s[0]||(s[0]=r=>t.otp_message=""),class:"form-control block placeholder-gray-400 hover:border-[#40b751] placeholder-gray-400 w-full px-3 py-1.5 text-base font-normal bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-black focus:font-semibold focus:bg-white focus:border-indigo-600 focus:outline-none","onUpdate:modelValue":s[1]||(s[1]=r=>t.otp=r),type:"number",ref:"otp"},null,544),[[l,t.otp]]),e("span",B,n(t.otp_message),1)]),e("div",U,[e("button",{class:"appearance-none border-gray-600 rounded w-auto text-grey-darker bg-green-500 hover:bg-transparent text-white hover:text-green-500 px-7 py-2 tracking-wide border border-green-500 hover:border-green-500 text-xs uppercase rounded",onClick:s[2]||(s[2]=r=>p.verify_otp())},n(o.$t("Verify OTP")),1)])])])])]),j]),a(u,{modelValue:t.showDialog,"onUpdate:modelValue":s[8]||(s[8]=r=>t.showDialog=r)},{body:v(()=>[e("div",q,[e("h1",z,n(o.$t("Reset Password"))+" "+n(t.email),1),e("div",K,[e("div",R,[i(e("input",{class:"appearance-none border-gray-300 hover:border-[#40b751] rounded w-full py-2 px-3 focus:text-black focus:font-semibold","onUpdate:modelValue":s[3]||(s[3]=r=>t.password=r),type:"text",onKeyup:s[4]||(s[4]=r=>t.passwordError=""),placeholder:"Password",required:""},null,544),[[l,t.password]]),e("p",G,n(o.$t(t.passwordError)),1)]),e("div",H,[i(e("input",{class:"appearance-none border-gray-300 hover:border-[#40b751] rounded w-full py-2 px-3 focus:text-black focus:font-semibold","onUpdate:modelValue":s[5]||(s[5]=r=>t.re_password=r),type:"text",onKeyup:s[6]||(s[6]=r=>t.re_passwordError=""),placeholder:"Re-Password",required:""},null,544),[[l,t.re_password]]),e("p",J,n(o.$t(t.re_passwordError)),1)]),e("div",M,[e("button",{class:"mb-5 ml-2 rounded-lg bg-[#40b751] text-white active:bg-[#40b751] hover:border-green-600 uppercase text-sm px-6 py-3 shadow hover:bg-white hover:text-black hover:border-green-500 hover:border-2mr-1 ease-linear transition-all duration-150",type:"button",onClick:s[7]||(s[7]=r=>p.resetPassword())},n(o.$t("Set Password")),1)])])])]),_:1},8,["modelValue"]),a(m)],64)}var X=g(k,[["render",A]]);export{X as default};
